<% if (schema.$ref) { %>
  <%- include('schema', {
    typeDef: typeDef,
    name: name, 
    schema: ref(schema.$ref, 'schema')
  }); %>
<% } else { %>
  <%/* Display Schema */%>
  <nop>
    <%= typeDef _%>
    <%_ if (name) { %> `<%= name %>` <% } %> &nbsp;

    _( <%= schema.type %>

    <%_ if (schema._custom) { _%>
      <%_ %>[&lt;<%= schema._custom.type %>&gt;](<%= schema._custom.path %>)
    <%_ } _%>

    <%_ if (schema.format) { _%>
      <%_ %> {$<%= schema.format %>}
    <%_ } %> )_ 

    <%_ if (schema.description) { _%> 
      <%_ %> <small style="font-weight:normal;"> - <%= schema.description %></small> 
    <%_ } _%>
  </nop>
<% } %> 
<%/* recursive if schema's type is object or array */%>
<% if (schema.type == 'object') { %>
  <% schema.properties && Object.keys(schema.properties).forEach(function(key) { %>
    <%- include('schema', {
      typeDef: /#{1,6}/.test(typeDef) ? '-' : '\t' + typeDef,
      name: key, 
      schema: schema.properties[key]
    }); %>
  <% }) %>
<% } else if (schema.type == 'array') { %>
  <%- include('schema', {
    typeDef: /#{1,6}/.test(typeDef) ? '-' : '\t' + typeDef,
    name: 'items', 
    schema: schema.items
  }); %>
<% } %>